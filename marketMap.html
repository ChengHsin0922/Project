<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>市集地圖</title>
    <!-- jQuery -->
    <script src="jquery-3.7.1.min.js"></script>
    <!-- font awesome icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <style>
        /* 字型 */
        @font-face {
            font-family: 'ChenYuluoyan-Thin-Monospaced';
            src: local("ChenYuluoyan-Thin-Monospaced")
            url('../font/ChenYuluoyan-Thin-Monospaced.woff')format("woff"),
            url('../font/ChenYuluoyan-Thin-Monospaced.ttf')format("truetype"),
            url('../font/ChenYuluoyan-Thin-Monospaced.eot')format("embedded-opentype"),
        }
        /* body {
            font-family: 'ChenYuluoyan-Thin-Monospaced';
        } */
        /* 字型 */
        /* 導覽列 */
        #nav_bar {
            background-color: #8dcbe6;
            display: flex;
            text-align: center;
            align-items: center;
            justify-content: center;
            height: 50px;
            border: 1px solid black;
        }
        /* 導覽列 */

        /* 主視覺 */
        #banner {
            background-color: #ffffff;
            display: flex;
            text-align: center;
            align-items: center;
            justify-content: center;
            height: 150px;
            border: 1px solid black;
        }
        /* 主視覺 */
        
        /* 市集地圖、攤位資訊 */
        #shop_container {
            display: flex;
        }
        /* 市集地圖、攤位資訊 */

         /* 左側地圖div */
        #map {
            background-color: #ffffff;
            flex: 1;
            border: 1px solid black;
        }
        /* 左側地圖div */

        /* 左側地圖導覽列 */
        #map_nav {
            background-color: #8dcbe6;
            display: flex;
            text-align: center;
            align-items: center;
            justify-content: center;
            border: 1px solid black;
        }
        /* 左側地圖導覽列 */
        
        /* 左側攤位位置 */
        .shop_loaction {
            display: flex;
            text-align: center;
            align-items: center;
            justify-content: center;
            border-spacing: 0 30px;
        }
        .shop_loaction td {
            background-color: #9df1df;
            border: 1px solid black;
            padding: 15px;
            cursor: pointer;
        }
        /* 左側攤位位置 */
        
        /* 右側攤位資訊 */
        #shop {
            background-color: #ffffff;
            flex: 1;
            border: 1px solid black;
            position: relative;
        }
        /* 右側攤位資訊 */

        
        #shop_nav {
            background-color: #8dcbe6;
            display: flex;
            text-align: center;
            align-items: center;
            justify-content: flex-start;    
            border: 1px solid black;
        }
        #shop_banner {
            display: flex;
            text-align: center;
            align-items: center;
            justify-content: center;
            height: 200px;
            border: 1px solid black;
        }
        #shop_detail {
            display: flex;
            background-color: #9df1df;
            text-align: center;
            align-items: center;
            justify-content: center;
            border: 1px solid black;
            padding: 15px;
        }
        #shop_btn {
            display: flex;
            background-color: #e3f6ff;
            text-align: center;
            align-items: baseline;
            justify-content: center;
            position: absolute;
            bottom: 0;
            right: 0;
            height: 30px;
            width: 30%;
            border: 1px solid black;
            padding: 5px;
        }
        #shop_btn>i {
            cursor: pointer;
            margin: 1px;
        }
        ul {
            display: flex;
            list-style: none;
            border: 1px solid black;
        }
        ul>li {
            margin-right: 50px;
            border: 1px solid black;
        }
        #brand_logo {
            border: 1px solid black;
            width: 65px;
            height: 65px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 50px;
        }
        #brand_logo>img {
            max-width: 100%;
            max-height: 100%;
        }
        .shopDescribe {
            text-align: left;
        }
    </style>
</head>

<body>
    <div id="nav_bar">
        <h2>
            導覽列
        </h2>
    </div>
    <div>
        <div id="banner">
            <h2>
                主視覺
            </h2>
        </div>
    </div>
    <div id="shop_container">
        <div id="map">
            <div id="map_nav">
                <h4>地圖導覽列</h4>
            </div>
            <table class="shop_loaction">
                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>8</td>
                    <td>9</td>
                    <td>10</td>
                    <td>11</td>
                    <td>12</td>
                </tr>
                <tr>
                    <td>13</td>
                    <td>14</td>
                    <td>15</td>
                    <td>16</td>
                    <td>17</td>
                    <td>18</td>
                </tr>
                <tr>
                    <td>19</td>
                    <td>20</td>
                    <td>21</td>
                    <td>22</td>
                    <td>23</td>
                    <td>24</td>
                </tr>
            </table>
        </div>
        <div id="shop">
            <div id="shop_nav">
                <div id="brand_logo">
                    <img src="" class="">
                </div>
                <h3 id="brand_name">攤位名稱</h3>
            </div>
            <div id="shop_banner">
                <h4>攤位主視覺</h4>
            </div>
            <div id="shop_detail">
                <p class="shopDescribe">攤位資訊</p>
            </div>
            <div id="shop_btn">
                <i class="fa fa-instagram" style="font-size:30px"></i>
                <i class="fa fa-facebook-square" style="font-size:30px"></i>
                <i class="fa fa-twitter" style="font-size:30px"></i>
            </div>
        </div>
    </div>
    <script>
        let myphpserver = 'http://localhost/Project/api_1_mysql_RESTful.php';
        let shop_name;
        let shop_describe;
        let logo_image;
        $(function () {
            $('td').on('click',function () {
                console.log(this.innerText);   //測試td點擊有反應
                let vidNumber =  this.innerText;
                $.ajax({
                url: myphpserver,
                method: 'GET',
                data: {vinfo: vidNumber },
                success: function (obj) {
                    //透過vinfo號碼取得攤位名稱
                    shop_name = obj['0'].brand_name;
                    $('#brand_name')[0].innerText = shop_name;
                    //取得攤位logo
                    logo_image = obj['0'].logo_img;
                    $('#brand_logo>img')['0'].src = logo_image;
                    //取得攤位描述
                    shop_describe = obj['0'].describe;
                    $('#shop_detail>p')['0'].innerText = shop_describe;
                }
            })
                .done(function (y) {
                    console.log('done:', y);
                })
                .fail(function (z) {
                    console.log('fail:', z);
                })
                .always(function (w) {
                    console.log('always:', w);
                });
            })
        });
        $('#likeBtn').on('click',function () {
            console.log(this);
            if(this.innerText == 'favorite_border') {
                this.innerText = 'favorite';
            }else {
                this.innerText = 'favorite_border';
            }
        })

    </script>
</body>

</html>